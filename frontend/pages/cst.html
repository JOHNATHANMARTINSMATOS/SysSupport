<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Lista de CSTs e Descrições</title>
    <link rel="stylesheet" href="../styles.css">
</head>

<body>
    <header>
        <h1>SysSupport</h1>
        <nav>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li class="dropdown">
                    <a href="#">Erros</a>
                    <ul class="dropdown-content">
                        <li><a href="errors.html">Cadastrar Erro</a></li>
                        <li><a href="listErrors.html">Lista de Erros</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#">Manuais</a>
                    <ul class="dropdown-content">
                        <li><a href="manuals.html">Cadastrar Manual</a></li>
                        <li><a href="listManuals.html">Lista de Manuais</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#">Scripts SQL</a>
                    <ul class="dropdown-content">
                        <li><a href="scripts.html">Cadastrar Script</a></li>
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#">Gestão Tributária</a>
                    <ul class="dropdown-content">
                        <li><a href="cst.html">CST</a></li>
                        <li><a href="cfop.html">CFOP</a></li>
                        <li><a href="ipi.html">IPI</a></li>
                        <li><a href="cofins.html">COFINS</a></li>
                        <li><a href="pis.html">PIS</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#">Instruções</a>
                    <ul class="dropdown-content">
                        <li><a href="instructions.html">Instruções Gerais</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#">Sugestões</a>
                    <ul class="dropdown-content">
                        <li><a href="suggestions.html">Enviar Sugestão</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>
    <main>
        <h2>Lista de CSTs e Descrições</h2>
        <div class="container">
            <div class="filter-form">
                <input type="text" id="searchBar" placeholder="Filtrar CST ou Descrição...">
            </div>

            <div class="table-container">
                <h3>CST - Regime Normal</h3>
                <table id="cstTable">
                    <thead>
                        <tr>
                            <th>CST</th>
                            <th>Descrição</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>00</th>
                            <td>Tributada integralmente</td>
                        </tr>
                        <tr>
                            <th>10</th>
                            <td>Tributada e com cobrança de ICMS por substituição tributária</td>
                        </tr>
                        <tr>
                            <th>20</th>
                            <td>Com redução de base de cálculo</td>
                        </tr>
                        <tr>
                            <th>30</th>
                            <td>Isenta ou não tributada e com cobrança de ICMS por substituição tributária</td>
                        </tr>
                        <tr>
                            <th>40</th>
                            <td>Isenta</td>
                        </tr>
                        <tr>
                            <th>41</th>
                            <td>Não tributada</td>
                        </tr>
                        <tr>
                            <th>50</th>
                            <td>Suspensão</td>
                        </tr>
                        <tr>
                            <th>51</th>
                            <td>Diferimento</td>
                        </tr>
                        <tr>
                            <th>60</th>
                            <td>ICMS cobrado anteriormente por substituição tributária</td>
                        </tr>
                        <tr>
                            <th>70</th>
                            <td>Com redução de base de cálculo e cobrança do ICMS por substituição tributária</td>
                        </tr>
                        <tr>
                            <th>90</th>
                            <td>Outras</td>
                        </tr>
                    </tbody>
                </table>

                <h3>CST - Simples Nacional</h3>
                <table id="cstSimplesTable">
                    <thead>
                        <tr>
                            <th>CST</th>
                            <th>Descrição</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>101</th>
                            <td>Tributada pelo Simples Nacional com permissão de crédito</td>
                        </tr>
                        <tr>
                            <th>102</th>
                            <td>Tributada pelo Simples Nacional sem permissão de crédito</td>
                        </tr>
                        <tr>
                            <th>103</th>
                            <td>Isenção de ICMS para faixa de receita bruta</td>
                        </tr>
                        <tr>
                            <th>201</th>
                            <td>Tributada pelo Simples Nacional com permissão de crédito e com redução de base de cálculo</td>
                        </tr>
                        <tr>
                            <th>202</th>
                            <td>Tributada pelo Simples Nacional sem permissão de crédito e com redução de base de cálculo</td>
                        </tr>
                        <tr>
                            <th>203</th>
                            <td>Isenção de ICMS para faixa de receita bruta com redução de base de cálculo</td>
                        </tr>
                        <tr>
                            <th>300</th>
                            <td>Imune</td>
                        </tr>
                        <tr>
                            <th>400</th>
                            <td>Não tributada pelo Simples Nacional</td>
                        </tr>
                        <tr>
                            <th>500</th>
                            <td>ICMS cobrado anteriormente por substituição tributária (substituído) ou por antecipação</td>
                        </tr>
                        <tr>
                            <th>900</th>
                            <td>Outros</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 SysSupport. Todos os direitos reservados.</p>
    </footer>

    <script>
        document.getElementById('searchBar').addEventListener('input', function () {
    const searchValue = removeDiacritics(this.value.toLowerCase());
    const rowsNormal = document.querySelectorAll('#cstTable tbody tr');
    const rowsSimples = document.querySelectorAll('#cstSimplesTable tbody tr');
    let hasResults = false;

    const filterRows = rows => {
        rows.forEach(row => {
            const cst = removeDiacritics(row.cells[0].textContent.toLowerCase());
            const description = removeDiacritics(row.cells[1].textContent.toLowerCase());

            if (cst.includes(searchValue) || description.includes(searchValue)) {
                row.style.display = '';
                hasResults = true;
            } else {
                row.style.display = 'none';
            }
        });
    };

    filterRows(rowsNormal);
    filterRows(rowsSimples);

    const noResultsRow = document.querySelector('.no-results');
    if (!hasResults) {
        if (!noResultsRow) {
            const noResults = document.createElement('tr');
            noResults.classList.add('no-results');
            noResults.innerHTML = '<td colspan="2">Nenhum resultado encontrado</td>';
            document.querySelector('#cstTable tbody').appendChild(noResults);
            document.querySelector('#cstSimplesTable tbody').appendChild(noResults.cloneNode(true));
        }
    } else {
        if (noResultsRow) noResultsRow.remove();
    }
});

// Função para remover acentos e caracteres especiais
function removeDiacritics(str) {
    return str.normalize('NFD').replace(/[\u0300-\u036f]/g, '');
}

    </script>
</body>

</html>
